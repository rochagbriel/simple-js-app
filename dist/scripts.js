/* eslint-disable quotes */
let pokemonRepository=function(){let e=[];function t(t){var n;"object"==typeof(n=t)&&"name"in n?e.push(t):console.error("Incorrect input type")}function n(){return e}function o(e){return i(),fetch(e.detailsUrl).then(function(e){return r(),e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.id=t.id}).catch(function(e){console.error(e),r()})}function i(){let e=document.createElement("p");e.innerText="LOADING!",e.classList.add("loading-message"),document.body.appendChild(e)}function r(){let e=document.querySelector(".loading-message");e&&document.body.removeChild(e)}function a(e){o(e).then(function(){l(e)})}function l(e){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");n.innerHTML="",t.innerHTML="";let o=document.createElement("h1");o.innerHTML=`${e.id} - ${e.name}`;let i=document.createElement("p");i.innerHTML=`Height: ${e.height/10} m`;let r=document.createElement("img");r.classList.add("pokemon-photo","modal-img"),r.src=e.imageUrl,n.appendChild(o),t.appendChild(r),t.appendChild(i)}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li"),i=document.createElement("button");i.innerText=t.name,i.classList.add("pokemon-button","btn","btn-primary"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#modal-container"),o.classList.add("list-group-item"),n.appendChild(o),o.appendChild(i),i.addEventListener("click",function(){a(t)})},loadList:function e(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url}),r()})}).catch(function(e){console.error(e),r()})},loadDetails:o,showDetails:a,showModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});