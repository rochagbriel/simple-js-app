/* eslint-disable quotes */
let pokemonRepository=(()=>{let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=151";function n(e){return"object"==typeof e&&"name"in e}function o(t){n(t)?e.push(t):console.error("Incorrect input type")}let i=()=>e;function l(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("pokemon-button","btn","btn-primary"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#modal-container"),n.classList.add("list-group-item"),t.appendChild(n),n.appendChild(o),o.addEventListener("click",()=>{p(e)})}function r(){return d(),fetch(t).then(e=>e.json()).then(function(e){e.results.forEach(e=>{o({name:e.name,detailsUrl:e.url}),s()})}).catch(e=>{console.error(e),s()})}function a(e){return d(),fetch(e.detailsUrl).then(e=>(s(),e.json())).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.id=t.id}).catch(e=>{console.error(e),s()})}function d(){let e=document.createElement("p");e.innerText="LOADING!",e.classList.add("loading-message"),document.body.appendChild(e)}function s(){let e=document.querySelector(".loading-message");e&&document.body.removeChild(e)}function p(e){a(e).then(()=>{c(e)})}function c(e){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");n.innerHTML="",t.innerHTML="";let o=document.createElement("h1");o.innerHTML=`${e.id} - ${e.name}`;let i=document.createElement("p");i.innerHTML=`Height: ${e.height/10} m`;let l=document.createElement("img");l.classList.add("pokemon-photo","modal-img"),l.src=e.imageUrl,n.appendChild(o),t.appendChild(l),t.appendChild(i)}return{add:o,getAll:i,addListItem:l,loadList:r,loadDetails:a,showDetails:p,showModal:c}})();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});